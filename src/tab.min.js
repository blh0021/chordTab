function distance(t,e){var r=progress.indexOf(t),i=progress.indexOf(e);return i-r>=0?i-r:progress.length-r+i}function findSmallestPositive(t){for(var e=1e3,r=0;r<t.length;r++)t[r]<e&&t[r]>=0&&(e=t[r]);return e}function tabPositions(t,e){for(var r=[],i=0;i<e.length;i++){var n=chordsData[t];if(void 0==n)return;for(var s=[],a=0;a<n.length;a++)s.push(distance(e[i],n[a]));var o=findSmallestPositive(s);r.push(o)}return r}function svg(){var t=document.createElementNS(XLMNS,"svg");return t.setAttribute("xlmns",XLMNS),t.setAttribute("version","1.1"),t.setAttribute("viewBox","0 0 200 180"),t}function fret(t){var e=document.createElementNS(XLMNS,"rect");return e.setAttribute("class","fret"),e.setAttribute("x",offsetX),e.setAttribute("y",t),e.setAttribute("width",tabWidth),e.setAttribute("height",fretHeight),e.setAttribute("style","fill: rgb(255,255,255);stroke-width:2;stroke:rgb(0,0,0)"),e}function createFrets(t,e){for(var r=0;r<e;r++)t.appendChild(fret(r*fretHeight));return t}function string(t){var e=document.createElementNS(XLMNS,"line");return e.setAttribute("class","string"),e.setAttribute("x1",t),e.setAttribute("x2",t),e.setAttribute("y1",0),e.setAttribute("y2",tabHeight),e.setAttribute("style","fill: rgb(255,255,255);stroke-width:2;stroke:rgb(0,0,0)"),e}function createStrings(t,e){for(var r=tabWidth/(e-1),i=1;i<e-1;i++)t.appendChild(string(r*i+offsetX));return t}function createFinger(t,e){var r=document.createElementNS(XLMNS,"circle");return r.setAttribute("class","fingers"),r.setAttribute("cx",t),r.setAttribute("cy",e),r.setAttribute("r",fingerSize),r}function calcFinger(t,e,r){var i={x:0,y:0};return i.x=tabWidth/(r-1)*t+offsetX,i.y=e*fretHeight-fretHeight/2,i.y<0&&(i.y=0),i}function chordName(t){var e=document.createElementNS(XLMNS,"text");return e.setAttribute("x",90),e.setAttribute("y",180),e.setAttribute("font-family","Verdana"),e.setAttribute("font-size","25"),e.innerHTML=t,e}const XLMNS="http://www.w3.org/2000/svg";for(var offsetX=35,tabWidth=120,tabHeight=150,fretHeight=tabHeight/5,fingerSize=8,chordsData={A:["A","C#","E"],Bb:["Bb","D","F"],B:["B","Eb","F#"],C:["C","E","G"],"C#":["C#","F","Ab"],D:["D","F#","A"],Eb:["Eb","G","Bb"],E:["E","Ab","B"],F:["F","A","C"],"F#":["F#","Bb","C#"],G:["G","B","D"]},instruments={banjo:["G","D","G","B","D"],guitar:["E","A","D","G","B","E"],mandolin:["G","D","A","E"],ukulele:["G","C","E","A"]},progress=["A","Bb","B","C","C#","D","Eb","E","F","F#","G","Ab"],els=document.getElementsByTagName("c-tab"),i=0;i<els.length;i++){var chord=els[i].getAttribute("chord"),instrument=els[i].getAttribute("instrument"),note=tabPositions(chord,instruments[instrument]);if(void 0!=note){var tab=svg();tab=createFrets(tab,5),tab=createStrings(tab,note.length);for(var j=0;j<note.length;j++){var fPos=calcFinger(j,note[j],note.length);fPos.y>0&&tab.appendChild(createFinger(fPos.x,fPos.y))}tab.appendChild(chordName(chord)),els[i].appendChild(tab)}}